(function(){"use strict";var e={2268:function(e,l,t){var n=t(5130),a=(t(4114),t(8992),t(2577),t(3949),t(1454),t(7550),t(4603),t(7566),t(8721),t(6768)),o=t(144),u=t(4232),r=t(1219),c=t(47),s=t(1648),i=t(6810);const v={class:"outer-container"},d={class:"control-box"},p={class:"page-wrapper"},f={class:"mean-box"},g=["value"],k={class:"progress-bar-wrapper"},h={class:"progress-bar-container"},m={class:"progress-text"},b={class:"dialog-list"};var y={__name:"App",setup(e){const l=(0,o.KR)(""),t=(0,o.KR)("请上传单词本开始"),y=(0,o.KR)([]),w=(0,o.KR)([]),R=(0,o.KR)(null),L=(0,o.KR)(!1),_=(0,o.KR)(0),F=(0,o.KR)([]),C=(0,o.KR)(!0),x=(0,o.KR)("0%"),E=(0,o.KR)(0),K=(0,o.KR)(0),T=(0,o.KR)(!1),O=(0,o.KR)(1),S=(0,o.KR)([]),$=(0,o.KR)(!1),j=(0,o.KR)("words.txt"),W=()=>{R.value.click()},I=e=>{const l=e.target.files[0];if(l){const e=new FileReader;e.onload=e=>{const l=e.target.result,t=l.split("\n"),n=[];t.forEach((e=>{const[l,t]=e.split("|");l&&t&&n.push({word:l.trim(),meaning:t.trim()})})),y.value=n,E.value=n.length,K.value=0,_.value=0,w.value=[],F.value=[],x.value="0%",C.value=!0,T.value=!1,U(),q(),L.value=!0},e.readAsText(l)}},U=()=>{const e=y.value;switch(O.value){case 0:S.value=e.slice();break;case 1:S.value=e.slice().sort((()=>Math.random()-.5));break;case 2:S.value=e.slice().sort(((e,l)=>e.word.localeCompare(l.word)));break}},V=()=>{if(0===K.value)(0,r.nk)({message:"你还未开始测试！",type:"info",duration:3e3});else{const e=K.value,l=F.value.length,n=((e-l)/e*100).toFixed(2);t.value=`测试结束，本次测试单词数：${e}，错误单词数：${l}，正确率：${n}%`,C.value=!1,T.value=F.value.length>0}},q=()=>{if(0===S.value.length){if(0===y.value.length)t.value="单词本为空，请重新上传有效文件";else{0===F.value.length&&(0,r.nk)({message:"卧槽，文曲星下凡，一个都没错！",grouping:!0,type:"success"});const e=K.value+1,l=F.value.length,n=((e-l)/e*100).toFixed(2);t.value=`测试完成，本次测试单词数：${e}，错误单词数：${l}，正确率：${n}%`,C.value=!1,x.value="100%",T.value=F.value.length>0}return}const e=S.value.shift();t.value=e.meaning,B(),_.value=0,console.log(`当前展示单词: ${e.word}, 释义: ${e.meaning}`)},A=e=>{l.value=e.target.value},M=()=>{const e=l.value.trim(),n=y.value.find((e=>e.meaning===t.value));if(e.toLowerCase()===n?.word.toLowerCase())w.value.push(n),q(),l.value="",_.value=0,K.value++,document.querySelector(".english-input").style.color="red";else{_.value++,3===_.value?((0,r.nk)({message:"Tips：按下Tab键会有奇迹哦",grouping:!0,type:"error"}),document.querySelector(".english-input").style.color="gray"):_.value>3&&(document.querySelector(".english-input").style.color="gray");const e=document.querySelector(".english-input");e&&(e.classList.add("shake"),setTimeout((()=>{e.classList.remove("shake")}),500))}B()},D=(0,o.KR)(null),Q=()=>{D.value&&D.value.toggleDropdown()},X=()=>{D.value&&D.value.show()},P=()=>{D.value&&D.value.hide()},Y=()=>{const e=F.value.map((e=>e)).join("\n"),l=new Blob([e],{type:"text/plain"}),t=URL.createObjectURL(l),n=document.createElement("a");n.href=t,n.download="recorded_words.txt",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)},B=()=>{const e=K.value/E.value*100;x.value=`${e}%`},Z=()=>{K.value=0,_.value=0,w.value=[],F.value=[],x.value="0%",C.value=!0,U(),q()},z=e=>{"nce1"===e?j.value="nce1":"nce2"===e?j.value="nce2":"nce3"===e?j.value="nce3":"nce4"===e?j.value="nce4":"IELTS1"===e?j.value="IELTS1":"IELTS2"===e&&(j.value="IELTS100");const l=`/type-words/${j.value}.txt`;fetch(l).then((e=>e.text())).then((e=>{const l=e.split("\n"),t=[];l.forEach((e=>{const[l,n]=e.split("|");console.log({word:l.trim(),meaning:n.trim()}),t.push({word:l.trim(),meaning:n.trim()})})),y.value=t,E.value=t.length,U(),q(),L.value=!0,Z()})).catch((e=>{console.log(e),(0,r.nk)({message:"单词书读取失败！",grouping:!0,type:"error"})})),$.value=!1},G=()=>{$.value=!0};let H;return(0,a.sV)((()=>{R.value.addEventListener("change",I);const e="/type-words/nce1.txt";fetch(e).then((e=>e.text())).then((e=>{const l=e.split("\n"),t=[];l.forEach((e=>{const[l,n]=e.split("|");t.push({word:l.trim(),meaning:n.trim()})})),y.value=t,E.value=t.length,U(),q(),L.value=!0})).catch((()=>{(0,r.nk)({message:"单词书读取失败！",grouping:!0,type:"error"})})),H=e=>{const n=document.querySelector(".english-input");if("Tab"===e.key&&n===document.activeElement){e.preventDefault();const o=y.value.find((e=>e.meaning===t.value));o&&!F.value.some((e=>e.startsWith(o.word)))&&(l.value=o.word,F.value.push(`${o.word}|${o.meaning}`)),(0,a.dY)((()=>{n.focus()}))}},document.addEventListener("keydown",H)})),(0,a.xo)((()=>{document.removeEventListener("keydown",H)})),(e,r)=>{const y=(0,a.g2)("el-dropdown-item"),w=(0,a.g2)("el-dropdown-menu"),_=(0,a.g2)("el-dropdown"),F=(0,a.g2)("el-header"),S=(0,a.g2)("el-main"),j=(0,a.g2)("el-footer"),I=(0,a.g2)("el-container"),U=(0,a.g2)("el-card"),q=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)("div",v,[(0,a.Lk)("div",d,[(0,a.bF)(_,{placement:"top-start"},{dropdown:(0,a.k6)((()=>[(0,a.bF)(w,null,{default:(0,a.k6)((()=>[(0,a.bF)(y,null,{default:(0,a.k6)((()=>[(0,a.Lk)("p",{onClick:W},"上传"),(0,a.Lk)("input",{type:"file",ref_key:"fileInput",ref:R,style:{display:"none"},accept:".txt"},null,512)])),_:1}),(0,a.bF)(y,{onClick:G},{default:(0,a.k6)((()=>r[9]||(r[9]=[(0,a.eW)(" 词库 ")]))),_:1}),(0,a.bF)(y,{onClick:V},{default:(0,a.k6)((()=>r[10]||(r[10]=[(0,a.eW)("结束")]))),_:1})])),_:1})])),default:(0,a.k6)((()=>[(0,a.bF)((0,o.R1)(c.S2),{onClick:Q,onMouseenter:X,onMouseleave:P},{default:(0,a.k6)((()=>r[8]||(r[8]=[(0,a.eW)("菜单")]))),_:1})])),_:1}),(0,a.bF)((0,o.R1)(s.R7),{effect:"dark",content:"选择测试模式，注意这会重新载入单词",placement:"top"},{default:(0,a.k6)((()=>[(0,a.bF)((0,o.R1)(i.MQ),{modelValue:O.value,"onUpdate:modelValue":r[0]||(r[0]=e=>O.value=e),onChange:Z},{default:(0,a.k6)((()=>[(0,a.bF)((0,o.R1)(i.ll),{label:0},{default:(0,a.k6)((()=>r[11]||(r[11]=[(0,a.eW)("顺序")]))),_:1}),(0,a.bF)((0,o.R1)(i.ll),{label:1},{default:(0,a.k6)((()=>r[12]||(r[12]=[(0,a.eW)("乱序")]))),_:1}),(0,a.bF)((0,o.R1)(i.ll),{label:2},{default:(0,a.k6)((()=>r[13]||(r[13]=[(0,a.eW)("A-Z排序")]))),_:1})])),_:1},8,["modelValue"])])),_:1})]),(0,a.Lk)("div",p,[(0,a.bF)(U,{class:"main-card"},{default:(0,a.k6)((()=>[(0,a.bF)(I,null,{default:(0,a.k6)((()=>[(0,a.bF)(F,{class:"header"},{default:(0,a.k6)((()=>r[14]||(r[14]=[(0,a.Lk)("h1",null,"TEST YOUR WORDS",-1)]))),_:1}),(0,a.bF)(S,{class:"main-content"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",f,[(0,a.Lk)("p",null,(0,u.v_)(t.value),1)]),L.value?((0,a.uX)(),(0,a.CE)("input",{key:0,placeholder:"Type the English word here",value:l.value,onInput:A,class:"english-input",onKeydown:(0,n.jR)(M,["enter"]),style:(0,u.Tr)({display:C.value?"block":"none"})},null,44,g)):(0,a.Q3)("",!0),(0,a.bF)((0,o.R1)(s.R7),{effect:"light",content:"下载错误单词本",placement:"top"},{default:(0,a.k6)((()=>[T.value?((0,a.uX)(),(0,a.Wv)((0,o.R1)(c.S2),{key:0,type:"success",onClick:Y},{default:(0,a.k6)((()=>r[15]||(r[15]=[(0,a.eW)("下载")]))),_:1})):(0,a.Q3)("",!0)])),_:1})])),_:1}),(0,a.bF)(j,{class:"footer"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",k,[(0,a.Lk)("div",h,[(0,a.Lk)("div",{class:"progress-bar",style:(0,u.Tr)({width:x.value})},null,4)]),(0,a.Lk)("div",m,(0,u.v_)(K.value)+" / "+(0,u.v_)(E.value),1)])])),_:1})])),_:1})])),_:1})]),(0,a.bF)(q,{title:"新概念词库",modelValue:$.value,"onUpdate:modelValue":r[7]||(r[7]=e=>$.value=e)},{default:(0,a.k6)((()=>[(0,a.Lk)("ul",b,[(0,a.Lk)("li",{onClick:r[1]||(r[1]=e=>z("nce1"))},"新概念第1册（新版）"),(0,a.Lk)("li",{onClick:r[2]||(r[2]=e=>z("nce2"))},"新概念第2册（新版）"),(0,a.Lk)("li",{onClick:r[3]||(r[3]=e=>z("nce3"))},"新概念第3册（新版）"),(0,a.Lk)("li",{onClick:r[4]||(r[4]=e=>z("nce4"))},"新概念第4册（新版）"),(0,a.Lk)("li",{onClick:r[5]||(r[5]=e=>z("IELTS1"))},"雅思词汇真经（新版）"),(0,a.Lk)("li",{onClick:r[6]||(r[6]=e=>z("IELTS2"))},"100个句子记完7000个雅思单词")])])),_:1},8,["modelValue"])])}}},w=t(1241);const R=(0,w.A)(y,[["__scopeId","data-v-7c9fd1cd"]]);var L=R,_=t(4614);t(4188);const F=(0,n.Ef)(L);F.use(_.A),F.mount("#app")}},l={};function t(n){var a=l[n];if(void 0!==a)return a.exports;var o=l[n]={exports:{}};return e[n].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(l,n,a,o){if(!n){var u=1/0;for(i=0;i<e.length;i++){n=e[i][0],a=e[i][1],o=e[i][2];for(var r=!0,c=0;c<n.length;c++)(!1&o||u>=o)&&Object.keys(t.O).every((function(e){return t.O[e](n[c])}))?n.splice(c--,1):(r=!1,o<u&&(u=o));if(r){e.splice(i--,1);var s=a();void 0!==s&&(l=s)}}return l}o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[n,a,o]}}(),function(){t.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(l,{a:l}),l}}(),function(){t.d=function(e,l){for(var n in l)t.o(l,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:l[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){var e={524:0};t.O.j=function(l){return 0===e[l]};var l=function(l,n){var a,o,u=n[0],r=n[1],c=n[2],s=0;if(u.some((function(l){return 0!==e[l]}))){for(a in r)t.o(r,a)&&(t.m[a]=r[a]);if(c)var i=c(t)}for(l&&l(n);s<u.length;s++)o=u[s],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(i)},n=self["webpackChunktype_word"]=self["webpackChunktype_word"]||[];n.forEach(l.bind(null,0)),n.push=l.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(2268)}));n=t.O(n)})();
//# sourceMappingURL=app.dacb81ec.js.map